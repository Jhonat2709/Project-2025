<h2>Buscador de Tesis</h2>
    <form method="get" action=".">
        <input type="text" name="q" value="{{ query }}" placeholder="Buscar tesis...">
        <input type="submit" value="Buscar">
    </form>

    <!-- Debug info (puedes comentar esto después) -->
    {% if debug_info %}
        <div style="background: #f0f0f0; padding: 10px; margin: 10px 0;">
            <p><strong>Debug:</strong></p>
            <p>Query: {{ debug_info.query }}</p>
            <p>Total results: {{ debug_info.total_results }}</p>
            <p>Indexed count: {{ debug_info.indexed_count }}</p>
        </div>
    {% endif %}

    <!-- Resultados usando diferentes variables de contexto posibles -->
    {% if object_list %}
        <h3>Resultados ({{ object_list|length }}):</h3>
        <ul>
            {% for result in object_list %}
                <li>
                    <h4><a href="#">{{ result.object.titulo }}</a></h4>
                    <p><b>Carrera:</b> {{ result.object.carrera.nombre }}</p>
                    <p><b>Resumen:</b> {{ result.object.resumen|truncatewords:40 }}</p>
                </li>
            {% endfor %}
        </ul>
    {% elif page_obj.object_list %}
        <h3>Resultados ({{ page_obj.object_list|length }}):</h3>
        <ul>
            {% for result in page_obj.object_list %}
                <li>
                    <h4><a href="#">{{ result.object.titulo }}</a></h4>
                    <p><b>Carrera:</b> {{ result.object.carrera.nombre }}</p>
                    <p><b>Resumen:</b> {{ result.object.resumen|truncatewords:40 }}</p>
                </li>
            {% endfor %}
        </ul>
    {% elif page.object_list %}
        <h3>Resultados ({{ page.object_list|length }}):</h3>
        <ul>
            {% for result in page.object_list %}
                <li>
                    <h4><a href="#">{{ result.object.titulo }}</a></h4>
                    <p><b>Carrera:</b> {{ result.object.carrera.nombre }}</p>
                    <p><b>Resumen:</b> {{ result.object.resumen|truncatewords:40 }}</p>
                </li>
            {% endfor %}
        </ul>
    {% elif query %}
        <p>No se encontraron resultados para "{{ query }}".</p>
    {% endif %}

    <!-- Debug: Mostrar todas las variables disponibles -->
    {% comment %}
    <div style="background: #ffe6e6; padding: 10px; margin: 10px 0;">
        <h4>Variables disponibles en el contexto:</h4>
        <p>query: {{ query }}</p>
        <p>object_list exists: {% if object_list %}SÍ{% else %}NO{% endif %}</p>
        <p>page exists: {% if page %}SÍ{% else %}NO{% endif %}</p>
        <p>page_obj exists: {% if page_obj %}SÍ{% else %}NO{% endif %}</p>
    </div>
    {% endcomment %}